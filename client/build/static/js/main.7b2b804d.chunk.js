(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,a){},21:function(e,t,a){e.exports=a(34)},26:function(e,t,a){},27:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=(a(26),a(11)),s=a(7);a(27);var i=function(){var e=Object(s.e)();return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-fixed-top transparent"},r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{style:{backgroundColor:"coral",marginRight:"0.25rem"}}," ",r.a.createElement(o.b,{to:"/",className:"/"===e.pathname?"nav-link active":"nav-link"},"Book Search"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{style:{backgroundColor:"coral",marginRight:"0.25rem"}},r.a.createElement(o.b,{to:"/favorites",className:"/favorites"===e.pathname?"nav-link active":"nav-link"},"Favorites")," ")))))},m=(a(17),a(4)),u=a.n(m),p=a(8),d=a(6);var v=function(e){var t=Object(n.useState)({type:"",message:""}),a=Object(d.a)(t,2),c=a[0],l=a[1];console.log("the props is",e);var o={listtype:{listStyleType:"none"}};function s(){return(s=Object(p.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:t.title,authors:t.authors,description:t.description,infoLink:t.infoLink,image:t.imageLinks.thumbnail},e.next=3,fetch("/api/post/book",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()}));case 3:if(n=e.sent,alert(n.message),!n.message){e.next=8;break}return l({type:"success",message:"Book added to favorites!"}),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement("div",{className:c.type?"alert alert-".concat(c.type):"d-hide",role:"alert"},c.message),e.bookList.map((function(e){return r.a.createElement("div",{className:"row justify-content-center mt-2"},r.a.createElement("div",{className:"col-10 p-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 imgcontainer"},r.a.createElement("img",{className:"img-thumbnail imgbook",alt:e.volumeInfo.title,src:e.volumeInfo.imageLinks.thumbnail})),r.a.createElement("div",{className:"col-9 emp-content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("ul",{style:o.listtype},r.a.createElement("li",null,r.a.createElement("strong",null,"Title:")," ",e.volumeInfo.title),r.a.createElement("li",null,r.a.createElement("strong",null,"Author:")," ",e.volumeInfo.authors),r.a.createElement("li",null,r.a.createElement("strong",null,"Average Rating:")," ",e.volumeInfo.averageRating),r.a.createElement("li",null,r.a.createElement("strong",null,"Description:")," ",e.volumeInfo.description),r.a.createElement("li",null,r.a.createElement("strong",null,"Infolink:")," ",e.volumeInfo.infoLink)),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{onClick:function(){return t=e.volumeInfo.infoLink,void(window.location=t);var t},style:{backgroundColor:"black",padding:"1rem",color:"white"}},"View"),r.a.createElement("button",{onClick:function(){return function(e){return s.apply(this,arguments)}(e.volumeInfo)},style:{backgroundColor:"black",padding:"1rem",color:"white"}},"Save")))))))))})))};var f=function(e){var t=Object(n.useState)(" "),a=Object(d.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),s=Object(d.a)(o,2),i=s[0],m=s[1];function f(){return(f=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(c)).then((function(e){return e.json()}));case 3:a=e.sent,m(a.items),l(" ");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center searchrow"},r.a.createElement("div",{className:"col-8 searchdiv p-4"},r.a.createElement("h1",{className:"text-center pt-3"},"Book Search Engine"),r.a.createElement("div",{className:"input-group mb-3 "},r.a.createElement("input",{type:"text",value:c,className:"form-control",placeholder:"Enter a book",onChange:function(e){e.preventDefault();var t=e.target.value;l(t)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(e){return f.apply(this,arguments)}},"Search"))))),r.a.createElement(v,{bookList:i}))};var E=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row headerdiv"},r.a.createElement("div",{className:"col-lg"},r.a.createElement(f,null))))};var b=function(){return r.a.createElement("div",null,r.a.createElement(E,null))};var h=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({type:"",message:""}),o=Object(d.a)(l,2),s=o[0],i=o[1];function m(){return(m=Object(p.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/favorites/list").then((function(e){return e.json()}));case 2:t=e.sent,a=t.dbfetchBooks,c(a),console.log("saved books from db are",t.dbfetchBooks);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:if(a=e.sent,alert(a.message),!a.message){e.next=7;break}return i({type:"success",message:"Book deleted from favorites"}),e.abrupt("return");case 7:case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:s.type?"alert alert-".concat(s.type):"d-hide",role:"alert"},s.message),a.map((function(e){return r.a.createElement("div",{className:"col-md-4 d-inline-flex flex-row justify-content-around mt-4"},r.a.createElement("div",{className:"card mb-4 box-shadow cardfav",style:{backgroundColor:"white",border:"2px solid black"}},r.a.createElement("img",{className:"img-thumbnail imgbook",src:e.image,alt:"Card cap"}),r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("div",{className:"card-body justify-content-center"},r.a.createElement("form",null,r.a.createElement("button",{onClick:function(){return function(e){return v.apply(this,arguments)}(e._id)}},"Delete")))))})))};var g=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(s.a,{exact:!0,path:["/"],component:b}),r.a.createElement(s.a,{exact:!0,path:["/favorites"],component:h}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.7b2b804d.chunk.js.map